<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>打字游戏</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <style>
        body {
            font-size: 18px;
        }
        
        #app {}
        
        .layout {
            width: 800px;
            margin: 0 auto
        }
        
        .Tabsyz {}
        
        .Tabsyz ul {}
        
        .Tabsyz ul li {
            list-style: none;
        }
        
        .Tabsyz ul li a {}
        
        .NeiRong {
            position: relative;
        }
        
        .PositionWord {
            display: none;
            letter-spacing: 5PX;
            text-align: justify;
            position: absolute;
            top: 5px;
            left: 0px;
        }
    </style>
    <div id="app">
        <div class="layout">
            <div class="Tabsyz">
                <ul>
                    <li>
                        <a href="javascript:">中文</a>
                    </li>
                    <li>
                        <a href="javascript:">英文</a>
                    </li>
                    <li>
                        <a href="javascript:">自定义内容</a>
                    </li>
                </ul>
            </div>
            <div class="prliplist" style="display:none">
                <ul>
                    <li>dfasdfasfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdf</li>
                </ul>
            </div>
            <div class="compareword">
            </div>
            <div class="XieZiBan" v-for="(mmc,iic) in DaDuanLuoChaiFens" :key="iic">
                <div class="CanKao">
                    <span class="CanKaoBanZiTi" v-for="(m,i) in mmc" :key="i" :class="{red: m !== WatchWord[iic][i]&&typeof WatchWord[iic][i]!=='undefined',green:m === WatchWord[iic][i]}">{{m}}</span>
                </div>
                <div class="NeiRong">
                    <input :disabled="IsKaishi" ref="input01" autofocus="autofocus" v-model="XieRuNeiRong[iic]">
                    <div class="PositionWord">
                        <span v-for="(m,i) in WatchWord[iic]" :class="{red:m!==DaZiLieBiao[i]}">{{m}}</span>
                    </div>
                </div>
            </div>
            <div class="JiShiQi">
                <div class="jshiqi_con">
                    <span>时间：<b class="time">{{time}}</b> </span>
                    <span>速度：<b> 35</b>字</span>
                    <span>进度：<b>0%</b></span>
                    <span>正确率：<b>0%</b></span>
                    <button @click="beginDaZi">开始</button>
                </div>
            </div>

        </div>
        <div style="position:fixed;font-size:12px;color:green;width:200px;height:100%;overflow-y:scroll;right:0px;top:0px; color:#fff;background:#000;padding:15px 5px;">
            <!--<div>{{DaDuanLuoChaiFens}}</div>-->
            <pre style="color:lawngreen">{{WatchWord}}</pre>
            <pre style="color:red">{{XieRuNeiRong}}</pre>
        </div>
    </div>

    <script src="./vue.min.js"></script>
    <script>
        Vue.config.devtools = true;
        var vm = new Vue({
            el: '#app',
            data: {
                IsKaishi: true,
                YuanNeiRong: 'font-family:Arial,Verdana,Tahoma,"宋体",Helvetica,sans-serif;',
                DaZiLieBiao: [],
                XieRuNeiRong: [],
                DaDuanLuoChaiFens: [],
                time: {
                    小时: '00',
                    分钟: '00',
                    秒: '00'
                },

            },
            computed: {
                WatchWord() {
                    var aa = [];
                    this.XieRuNeiRong.forEach((i, c, v) => {
                            if (i.length) {
                                aa.push(i.split(""))
                            } else {
                                aa.push(i)
                            }
                        })
                        // return this.XieRuNeiRong.split("");
                    return aa;
                },
                DaDuanLuoChaiFen() {
                    // for(let i=this.YuanNeiRong.length;i--){
                    //
                    // }
                    // var cab =  this.DaZiLieBiao.concat();

                }
            },
            created() {
                this.DaZiLieBiao = this.YuanNeiRong.split("");
                // console.log(this.WatchWord[5]);
                // this.DaZiLieBiao.forEach((m,i,v)=>{
                if (this.DaZiLieBiao.length > 34) {
                    var hang = parseInt(this.DaZiLieBiao.length / 34) + 1;
                    for (let c = 0; c < hang; c++) {
                        // var cc = v.splice(0,34)
                        this.DaDuanLuoChaiFens.push(this.DaZiLieBiao.splice(0, 34));
                        this.XieRuNeiRong.push([])
                    }
                } else {

                }
                // });
                // for(){

                // }
                this.DaDuanLuoChaiFens.push(this.DaZiLieBiao)
                    // return this.DaDuanLuoChaiFens
            },
            methods: {
                beginDaZi() {
                    console.log('aaa')
                    this.IsKaishi = false;
                    // var today = new Date(0,0,0);
                    // var h = today.getHours()>=10?today.getHours():"0"+today.getHours();
                    // var m = today.getMinutes()>=10?today.getMinutes():"0"+today.getMinutes();
                    // var s = today.getSeconds()>=10?today.getSeconds():"0"+today.getSeconds();
                    // today.getSeconds()today.getSeconds()++;
                    // this.time = h + ":" + m + ":" + s;
                    // console.log(this.time)
                    // setTimeout(this.beginDaZi,1000);
                    var b = setInterval(() => {
                        console.log()
                        this.time.秒 - 0;
                        if (this.time.秒 < 9) {
                            this.time.秒++;
                            this.time.秒 = '0' + this.time.秒;
                        } else {
                            this.time.秒++
                        }
                        if (this.time.秒 >= 16) {
                            this.time.分钟 - 0;
                            this.time.秒 = '0' + 1;
                            if (this.time.分钟 < 9) {
                                this.time.分钟++;
                                this.time.分钟 = '0' + this.time.分钟;
                            } else {
                                this.time.分钟++
                            }
                            // this.time.m = '0' + this.time.m;
                        }
                        if (this.time.分钟 >= 61) {
                            this.time.小时 - 0;
                            this.time.分钟 = '0' + 1;
                            if (this.time.小时 < 9) {
                                this.time.小时++;
                                this.time.小时 = '0' + this.time.小时;
                            } else {
                                this.time.小时++
                            }
                        }
                    }, 1000)
                }
            },
            watch: {
                WatchWord: {
                    handler(newValue, oldValue) {
                        // console.log(newValue);
                        /* this.zhuanhaushuzu.map((m,i,u)=>{

                        }) */
                        newValue.forEach((i, c, v) => {
                            if (i instanceof Array) {
                                i.forEach((ip, cp, vp) => {
                                    // console.log(ip)
                                    if (ip != this.DaDuanLuoChaiFens[c][cp]) {
                                        console.log(cp)
                                    }
                                    // console.log(this.XieRuNeiRong)
                                })
                            }
                        })
                    },
                    deep: true
                },

            }
        })
    </script>
</body>

</html>